---
const navItems = [
  { href: '/', label: 'Accueil' },
  { href: '/services', label: 'Services' },
  { href: '/realisations', label: 'Réalisations' },
  { href: '/a-propos', label: 'À Propos' }
];

const currentPath = Astro.url.pathname;
const baseUrl = import.meta.env.BASE_URL;
---

<header class="fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm shadow-sm">
  <nav class="container mx-auto px-5 lg:px-20" x-data="{ mobileMenuOpen: false }">
    <div class="flex items-center justify-between h-20">
      <!-- Logo -->
      <a href={`${baseUrl}/`} class="flex items-center space-x-3">
        <img src={`${baseUrl}/assets/logo-bizot-paysagistes.png`} alt="Bizot Paysagistes Logo" class="h-12 w-auto" loading="lazy">
        <span class="text-xl font-bold text-brandDark hidden sm:inline">Bizot Paysagistes</span>
      </a>
      
      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center space-x-8">
        {navItems.map(item => (
          <a 
            href={`${baseUrl}${item.href}`} 
            class={`text-textColor hover:text-brandDark transition-colors font-medium ${currentPath === item.href || (item.href !== '/' && currentPath.startsWith(item.href)) ? 'text-brandDark font-semibold' : ''}`}
          >
            {item.label}
          </a>
        ))}
        <a href={`${baseUrl}/contact`} class="bg-brandDark text-white px-6 py-2.5 rounded-lg hover:bg-brand transition-colors font-semibold">
          Contact
        </a>
      </div>
      
      <!-- Mobile Menu Button -->
      <button @click="mobileMenuOpen = !mobileMenuOpen" class="md:hidden p-2 text-textColor hover:text-brandDark">
        <!-- Heroicon: menu -->
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
    
    <!-- Mobile Navigation -->
    <div 
      x-show="mobileMenuOpen" 
      x-transition:enter="transition ease-out duration-200"
      x-transition:enter-start="opacity-0 transform scale-95"
      x-transition:enter-end="opacity-100 transform scale-100"
      x-transition:leave="transition ease-in duration-150"
      x-transition:leave-start="opacity-100 transform scale-100"
      x-transition:leave-end="opacity-0 transform scale-95"
      class="md:hidden pb-4"
    >
      <div class="flex flex-col space-y-3">
        {navItems.map(item => (
          <a 
            href={item.href} 
            class={`text-textColor hover:text-brandDark transition-colors font-medium py-2 ${currentPath === item.href || (item.href !== '/' && currentPath.startsWith(item.href)) ? 'text-brandDark font-semibold' : ''}`}
          >
            {item.label}
          </a>
        ))}
        <a href="/contact" class="bg-brandDark text-white px-6 py-3 rounded-lg hover:bg-brand transition-colors font-semibold text-center">
          Contact
        </a>
      </div>
    </div>
  </nav>
</header>
